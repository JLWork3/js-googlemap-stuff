<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>Climate - The Social Weather Game</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">


    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/ui-lightness/jquery-ui.css" />
    <link type="text/css" rel="stylesheet" href="css/960/min/960.css" />
    <link type="text/css" rel="stylesheet" href="css/960/min/960_16_col.css" />
    <link type="text/css" rel="stylesheet" href="css/normalize/min/normalize.css" />
    <link type="text/css" rel="stylesheet" href="css/prettify/min/prettify.css" />
    <link type="text/css" rel="stylesheet" href="css/style.css" />    
<style type="text/css">
html, body, #map_canvas {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
}
#map_canvas {
    position: relative;
}
ul {font:10pt arial; margin-left:0px; padding:5px;}
li {margin-left:0px; padding:5px; list-style-type:decimal;}
.small {font:9pt arial; color:gray; padding:2px; }
#latlongclicked {width:300px; border:1px inset gray;}
</style>    
  
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          
          <a class="navbar-brand" href="#">Climate</a>
          <form class="navbar-form navbar-right" role="form">
            <div class="form-group">
              <input type="text" placeholder="Zip Code" class="form-control">
            </div>
               <button type="submit" class="btn btn-success">Submit</button>
          </form>
        </div>
        
      </div>
    </div> 
      <div>
          <div id="map_canvas" class="map rounded"></div>
          <div id="dialog"></div>
      </div>

    <div class="container">



     <button href="#" class="thumbnail" id="forecast-box">
     <h3>Current Forecast:</h3>
     <p>60&deg; and Sunny</p>
    </button>

      <button class="thumbnail" id="user-box" data-toggle="modal" data-target="#userModal">
     <i class="fa fa-cog"></i><h3>Drew</h3>
     <p>Edit Your Settings</p>
    </button>

 <button class="thumbnail" id="action-box" data-toggle="modal" data-target="#myModal">
     <h3>Make a CurrentCast</h3>
     <p>What's the weather outside?</p>
    </button>



<!-- Action Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">What's the weather outside?</h4>
      </div>
      <div class="modal-body">
        
<div class="row">
  
  <div class="col-xs-4 col-md-4">
    <button type="button" class="btn btn-default btn-lg">
      <span class="glyphicon glyphicon-fire"></span> Sunny
  </div>

  <div class="col-xs-4 col-md-4">
    <button type="button" class="btn btn-default btn-lg">
     <span class="glyphicon glyphicon-tint"></span> Rainy
  </div>

  <div class="col-xs-4 col-md-4">
   <button type="button" class="btn btn-default btn-lg">
  <span class="glyphicon glyphicon-cloud"></span> Cloudy
</button>
  </div>

  <div class="col-xs-4 col-md-4">
<button type="button" class="btn btn-default btn-lg">
      <span class="glyphicon glyphicon-asterisk"></span> Snowy
  </div>

  <div class="col-xs-4 col-md-4">
  <button type="button" class="btn btn-default btn-lg">
  <span class="glyphicon glyphicon-flash"></span> T-Storm
  </button>
  </div>

  <div class="col-xs-4 col-md-4">
<button type="button" class="btn btn-default btn-lg">
      <span class="glyphicon glyphicon-leaf"></span> Windy
  </div>
 
</div>


      </div>
      <div class="modal-footer">
        <input type="text" class="form-control" placeholder="Message"> <br>
        <button type="button" class="btn btn-success">Submit</button>
      </div>
    </div>
  </div>
</div>



<!-- User Modal -->
<div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Edit User Settings</h4>
      </div>
      <div class="modal-body">
        <button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-edit"></span>
</button> <strong>Username:</strong> NYDrewReynolds <br>
        <button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-edit"></span>
</button> <strong>Name:</strong> Drew<br>
        <button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-edit"></span>
</button> <strong>Zip Code:</strong> 11758 <br>
       <button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-edit"></span>
</button> <strong>Email:</strong> NYDrewReynolds@gmail.com
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> 
    <script type="text/javascript" src="js/jquery-1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/underscore-1.2.2/underscore.min.js"></script>
    <script type="text/javascript" src="js/backbone-0.5.3/backbone.min.js"></script>
    <script type="text/javascript" src="js/prettify/prettify.min.js"></script>
    <script type="text/javascript" src="js/demo.js"></script>
    <script type="text/javascript" src="ui/jquery.ui.map.js"></script>
    <script type="text/javascript" src="ui/jquery.ui.map.services.js"></script>
    <script type="text/javascript" src="ui/jquery.ui.map.extensions.js"></script>
    <script type="text/javascript">

      //$('#map_canvas').gmap({'center': '40.75818,-73.979874', 'zoom': 13}).bind('init', function() {  
        // This URL won't work on your localhost, so you need to change it
        // see http://en.wikipedia.org/wiki/Same_origin_policy
          /* $.getJSON( 'demo.json', function(data) { 
          $.each( data.markers, function(i, marker) {
            self.addMarker({'position': this.get('map').getCenter() }).click(function() {
              self.openInfoWindow({ 'content': 'Hello World!' }, this);
            });     
            $('#map_canvas').gmap('addMarker', { 
              'position': new google.maps.LatLng(marker.latitude, marker.longitude), 
              'bounds': true 
            }).click(function() {
              $('#map_canvas').gmap('openInfoWindow', { 'content': marker.content }, this);
            });
          });
        }); */
      //});




            $(function() { 

        demo.add(function() {
          $('#map_canvas').gmap({'center': '40.75818,-73.979874', 'zoom': 13, 'disableDefaultUI':true, 'callback': function(map) {
            var self = this;
            self.set('openDialog', function(marker) {
              $('#dialog'+marker.__gm_id).dialog({'modal':true, 'title': 'Edit and save point', 'buttons': { 
                'Remove': function() { $(this).dialog('close'); marker.setMap(null); return false; },
                'Save': function() { $(this).dialog('close'); return false; }
              }});
            });
            self.set('findLocation', function(location, marker) {
              self.search({'location': location}, function(results, status) {
                if ( status === 'OK' ) {
                  $.each(results[0].address_components, function(i,v) {
                    if ( v.types[0] == "administrative_area_level_1" || v.types[0] == "administrative_area_level_2" ) {
                      $('#state'+marker.__gm_id).val(v.long_name);
                    } else if ( v.types[0] == "country") {
                      $('#country'+marker.__gm_id).val(v.long_name);
                    }
                  });
                  marker.setTitle(results[0].formatted_address);
                  $('#address'+marker.__gm_id).val(results[0].formatted_address);
                  self.get('openDialog')(marker);
                }
              });
            });
            $(map).click( function(event) {
              self.addMarker({'position': event.latLng, 'draggable': true, 'bounds': false}, function(map, marker) {
                $('#dialog').append('<form id="dialog'+marker.__gm_id+'" method="get" action="/" style="display:none;"><p><label for="country">Country</label><input id="country'+marker.__gm_id+'" class="txt" name="country" value=""/></p><p><label for="state">State</label><input id="state'+marker.__gm_id+'" class="txt" name="state" value=""/></p><p><label for="address">Address</label><input id="address'+marker.__gm_id+'" class="txt" name="address" value=""/></p><p><label for="comment">Comment</label><textarea id="comment" class="txt" name="comment" cols="40" rows="5"></textarea></p></form>');
                self.get('findLocation')(marker.getPosition(), marker);
              }).dragend( function(event) {
                self.get('findLocation')(event.latLng, this);
              }).click( function() {
                self.get('openDialog')(this);
              })
            });
          }});
        }).load();
      });

        </script>     
  </body>
</html>
